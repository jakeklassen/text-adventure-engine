{
  "title": "An Epic Dungeon Adventure",
  "author": "Jake Klassen",
  "introText": "You've just escaped from your cell. It's time to get the hell out of here.",
  "winConditions": [
    {
      "playerHasItems": ["treasure"]
    }
  ],
  "youWinText": "You got the treasure and ripped that Minotaur a new one.\n",
  "player": {
    "currentRoomId": "starting_room",
    "lastItemUsedId": "",
    "inventory": []
  },
  "rooms": [
    {
      "id": "starting_room",
      "name": "Starting Room",
      "description": "A room just North of the holding cells, but there's no point in going back to that dead end...",
      "objects": [
        {
          "id": "eastern_exit",
          "name": "Eastern Exit",
          "roomDescription": "An exit to the East. You can hear a faint buzzing.",
          "objects": [],
          "commands": {
            "go": [
              {
                "playerChangeRoom": "electrical_room"
              }
            ]
          }
        },
        {
          "id": "northern_exit",
          "name": "Northern Exit",
          "roomDescription": "An exit to the North. A demonic figure is embossed on the metal.",
          "objects": [],
          "commands": {
            "go": [
              {
                "playerChangeRoom": "boss_room"
              }
            ]
          }
        }
      ]
    },
    {
      "id": "electrical_room",
      "name": "Electrical Room",
      "description": "The buzzing of electricity is everywhere.",
      "objects": [
        {
          "id": "fuse",
          "name": "Fuse",
          "inventoryDescription": "A Fuse. It looks usable.",
          "roomDescription": "A fuse on the ground. It looks usable.",
          "objects": [],
          "commands": {
            "pickup": [
              {
                "playerPickupItem": "fuse"
              }
            ]
          }
        },
        {
          "id": "shiny_object",
          "name": "Shiny Object",
          "roomDescription": "A shiny object glittering on the floor.",
          "objects": [],
          "commands": {
            "examine": [
              {
                "showMessage": "You discovered a fuse"
              },
              {
                "roomAddObjects": [
                  {
                    "room": "electrical_room",
                    "object": {
                      "id": "fuse",
                      "name": "Fuse",
                      "inventoryDescription": "A Fuse. It looks usable.",
                      "roomDescription": "A fuse on the ground. It looks usable.",
                      "objects": [],
                      "commands": {
                        "pickup": [
                          {
                            "playerPickupItem": "fuse"
                          }
                        ]
                      }
                    }
                  }
                ]
              },
              {
                "roomRemoveObjects": [
                  {
                    "room": "electrical_room",
                    "object": "shiny_object"
                  }
                ]
              }
            ]
          }
        },
        {
          "id": "western_exit",
          "name": "Western Exit",
          "roomDescription": "An exit to the West.",
          "objects": [],
          "commands": {
            "go": [
              {
                "playerChangeRoom": "starting_room"
              }
            ]
          }
        }
      ]
    },
    {
      "id": "boss_room",
      "name": "Da Boss Room",
      "description": "Did you see the damn door you came through?! This is Da Boss Room.",
      "objects": [
        {
          "id": "fusebox",
          "name": "Fuse Box",
          "roomDescription": "A fuse box, but it looks powered down.",
          "objects": [],
          "commands": {
            "use": [
              {
                "if": [
                  {
                    "objectHasObjects": [
                      {
                        "room": "boss_room",
                        "object": "fusebox",
                        "has": "fuse"
                      }
                    ]
                  }
                ],
                "then": [
                  {
                    "showMessage": "The fuse box is already activated."
                  }
                ],
                "else": [
                  {
                    "if": [
                      {
                        "playerUsedItem": "fuse"
                      }
                    ],
                    "then": [
                      {
                        "playerTransferInventoryItemsToObject": {
                          "items": ["fuse"],
                          "room": "boss_room",
                          "object": "fusebox"
                        }
                      },
                      {
                        "roomUpdateObjectRoomDescription": {
                          "room": "boss_room",
                          "object": "fusebox",
                          "room_description": "A fuse box, but it's already activated."
                        }
                      },
                      {
                        "showMessage": "The fuse box activates, electrifying the water, killing the minotaur."
                      },
                      {
                        "roomRemoveObjects": [
                          {
                            "room": "boss_room",
                            "object": "minotaur"
                          }
                        ]
                      }
                    ],
                    "else": [
                      {
                        "showMessage": "${name} is not compatible with ${item}"
                      }
                    ]
                  }
                ]
              }
            ]
          }
        },
        {
          "id": "minotaur",
          "name": "Minotaur",
          "roomDescription": "A hoved beast lurks with a large scythe that no man should cross. It's standing in a pool of water in front of the North exit.",
          "objects": [],
          "commands": {
            "examine": [
              {
                "showMessage": "A big fucking Minotaur"
              }
            ]
          }
        },
        {
          "id": "northern_exit",
          "name": "Northern Exit",
          "roomDescription": "An ornate door to the North. It's beautiful.",
          "objects": [],
          "commands": {
            "go": [
              {
                "unless": [
                  {
                    "roomHasObjects": [
                      {
                        "room": "boss_room",
                        "object": "minotaur"
                      }
                    ]
                  }
                ],
                "then": [
                  {
                    "playerChangeRoom": "treasure_room"
                  }
                ],
                "else": [
                  {
                    "showMessage": "A ${rooms.boss_room.objects.minotaur.name} is blocking your path!"
                  }
                ]
              }
            ]
          }
        },
        {
          "id": "southern_exit",
          "name": "Southern Exit",
          "roomDescription": "An exit to the South, back to the starting room.",
          "objects": [],
          "commands": {
            "go": [
              {
                "playerChangeRoom": "starting_room"
              }
            ]
          }
        }
      ]
    },
    {
      "id": "treasure_room",
      "name": "Treasure Room",
      "description": "Imma gonna get rich today $.$",
      "objects": [
        {
          "id": "southern_exit",
          "name": "Southern Exit",
          "roomDescription": "A Southern exit back to Da Boss Room.",
          "objects": [],
          "commands": {
            "go": [
              {
                "playerChangeRoom": "boss_room"
              }
            ]
          }
        },
        {
          "id": "treasure",
          "name": "Treasure",
          "room_description": "A pile of treasure!",
          "inventoryDescription": "A pile of treasure!",
          "objects": [],
          "commands": {
            "pickup": [
              {
                "playerPickupItem": "treasure"
              },
              { "showMessage": "That's some shiny loot" }
            ]
          }
        }
      ]
    }
  ]
}
